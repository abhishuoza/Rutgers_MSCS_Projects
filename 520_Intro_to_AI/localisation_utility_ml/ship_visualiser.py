from matplotlib.colors import ListedColormap, BoundaryNorm
import matplotlib.pyplot as plt
from localization_functions import (
    build_ship, place_bot,
    cmap, norm, OPEN, L_CELL
)




ship1 = build_ship(30)
bot_pos, ship1 = place_bot(ship1)

# np.save("ship.npy", ship1)

plt.imshow(ship1, cmap=cmap, norm=norm)
plt.title("Ship config")
plt.show()

for test in range(1):
    # L0, L0_size = random_L0_generator(ship1, bot_pos)
    L = {(7, 17), (18, 26), (7, 26), (8, 0), (19, 0), (28, 12), (19, 9), (10, 6), (12, 25), (9, 17), (0, 14), (9, 26), (6, 2), (13, 17), (26, 14), (7, 10), (25, 25), (22, 10), (3, 6), (28, 5), (20, 22), (17, 14), (5, 12), (8, 11), (11, 16), (24, 1), (9, 28), (24, 10), (26, 7), (13, 10), (18, 3), (7, 3), (15, 16), (7, 12), (24, 28), (18, 21), (7, 21), (20, 15), (22, 12), (29, 27), (23, 20), (0, 0), (17, 16), (3, 26), (16, 8), (1, 19), (15, 18), (16, 17), (7, 14), (16, 26), (14, 1), (17, 0), (28, 0), (29, 20), (23, 13), (12, 13), (20, 26), (22, 23), (12, 22), (14, 19), (5, 25), (27, 22), (15, 2), (26, 2), (25, 4), (10, 15), (15, 11), (24, 23), (26, 20), (18, 16), (29, 13), (5, 0), (22, 16), (3, 12), (20, 28), (5, 9), (5, 18), (4, 29), (15, 4), (25, 6), (7, 0), (1, 14), (25, 15), (10, 26), (1, 23), (22, 0), (29, 15), (29, 24), (28, 4), (14, 5), (29, 2), (22, 27), (14, 23), (24, 0), (8, 13), (15, 6), (10, 19), (16, 14), (18, 11), (1, 25), (11, 27), (25, 26), (16, 23), (22, 11), (23, 10), (6, 24), (26, 27), (14, 7), (5, 4), (23, 19), (3, 16), (27, 19), (8, 15), (19, 15), (1, 9), (24, 11), (25, 10), (0, 29), (22, 4), (12, 3), (3, 0), (6, 17), (4, 17), (27, 12), (4, 26), (1, 2), (26, 1), (17, 20), (16, 0), (8, 17), (24, 4), (17, 29), (2, 10), (10, 23), (16, 9), (0, 22), (25, 21), (29, 3), (20, 0), (2, 19), (20, 9), (22, 6), (21, 8), (12, 5), (23, 5), (13, 25), (12, 14), (6, 28), (7, 27), (8, 1), (17, 13), (27, 23), (2, 3), (19, 19), (8, 19), (1, 13), (11, 15), (11, 24), (29, 5), (21, 1), (26, 15), (15, 15), (23, 7), (29, 23), (4, 3), (27, 7), (28, 6), (28, 15), (8, 12), (17, 15), (22, 29), (5, 22), (8, 21), (11, 17), (29, 7), (20, 13), (23, 9), (16, 25), (7, 22), (27, 9), (22, 22), (19, 5), (0, 1), (17, 17), (25, 0), (19, 14), (0, 10), (28, 26), (11, 28), (13, 13), (24, 13), (20, 6), (15, 19), (6, 16), (12, 11), (15, 28), (16, 27), (4, 7), (21, 23), (27, 2), (28, 10), (17, 10), (20, 27), (9, 6), (19, 25), (13, 6), (15, 3), (26, 3), (11, 21), (18, 8), (21, 7)}
    ship_with_L = ship1.copy()
    ship_with_L[bot_pos] = OPEN
    for loc in L:
        ship_with_L[loc] = L_CELL

    plt.imshow(ship_with_L, cmap=cmap, norm=norm)
    plt.title("Ship config")
    plt.show()

    # Target cell - (14, 5)





